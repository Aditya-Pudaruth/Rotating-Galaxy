THREE.OrbitAndPanControls=function(e,t){THREE.EventDispatcher.call(this),this.enabled=!0,this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new THREE.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minDistance=0,this.maxDistance=1/0,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};var n=this,o=new THREE.Vector2,a=new THREE.Vector2,i=new THREE.Vector2,s=new THREE.Vector2,c=new THREE.Vector2,r=new THREE.Vector2,h=new THREE.Vector2,l=new THREE.Vector2,d=new THREE.Vector2,u=0,E=0,m=1,p=new THREE.Vector3,f=new THREE.Vector3,T={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},b=T.NONE,v={type:"change"};function g(){return 2*Math.PI/60/60*n.autoRotateSpeed}function O(){return Math.pow(.95,n.zoomSpeed)}function R(e){if(!1!==n.enabled){if(e.preventDefault(),b===T.ROTATE)!0!==n.noRotate&&(a.set(e.clientX,e.clientY),i.subVectors(a,o),n.rotateLeft(2*Math.PI*i.x/n.domElement.width*n.rotateSpeed),n.rotateUp(2*Math.PI*i.y/n.domElement.height*n.rotateSpeed),o.copy(a));else if(b===T.DOLLY){if(!0===n.noZoom)return;l.set(e.clientX,e.clientY),d.subVectors(l,h),d.y>0?n.dollyIn():n.dollyOut(),h.copy(l)}else if(b===T.PAN){if(!0===n.noPan)return;c.set(e.clientX,e.clientY),r.subVectors(c,s),n.pan(r),s.copy(c)}}}function y(){!1!==n.enabled&&(document.removeEventListener("mousemove",R,!1),document.removeEventListener("mouseup",y,!1),b=T.NONE)}function L(e){if(e.preventDefault(),!1!==n.enabled&&!0!==n.noZoom){var t=0;e.wheelDelta?t=e.wheelDelta:e.detail&&(t=-e.detail),t>0?n.dollyOut():n.dollyIn()}}this.rotateLeft=function(e){void 0===e&&(e=g()),E-=e},this.rotateUp=function(e){void 0===e&&(e=g()),u-=e},this.panLeft=function(e){var t=new THREE.Vector3,n=this.object.matrix.elements;t.set(n[0],n[1],n[2]),t.multiplyScalar(-e),p.add(t)},this.panUp=function(e){var t=new THREE.Vector3,n=this.object.matrix.elements;t.set(n[4],n[5],n[6]),t.multiplyScalar(e),p.add(t)},this.pan=function(e){if(void 0!==n.object.fov){var t=n.object.position.clone().sub(n.target).length();t*=Math.tan(n.object.fov/2*Math.PI/180),n.panLeft(2*e.x*t/n.domElement.height),n.panUp(2*e.y*t/n.domElement.height)}else void 0!==n.object.top?(n.panLeft(e.x*(n.object.right-n.object.left)/n.domElement.width),n.panUp(e.y*(n.object.top-n.object.bottom)/n.domElement.height)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(e){void 0===e&&(e=O()),m/=e},this.dollyOut=function(e){void 0===e&&(e=O()),m*=e},this.update=function(){var e=this.object.position,t=e.clone().sub(this.target),n=Math.atan2(t.x,t.z),o=Math.atan2(Math.sqrt(t.x*t.x+t.z*t.z),t.y);this.autoRotate&&this.rotateLeft(g()),n+=E,o+=u,o=Math.max(1e-6,Math.min(Math.PI-1e-6,o=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,o))));var a=t.length()*m;a=Math.max(this.minDistance,Math.min(this.maxDistance,a)),this.target.add(p),t.x=a*Math.sin(o)*Math.sin(n),t.y=a*Math.cos(o),t.z=a*Math.sin(o)*Math.cos(n),e.copy(this.target).add(t),this.object.lookAt(this.target),E=0,u=0,m=1,p.set(0,0,0),f.distanceTo(this.object.position)>0&&(this.dispatchEvent(v),f.copy(this.object.position))},this.domElement.addEventListener("contextmenu",function(e){e.preventDefault()},!1),this.domElement.addEventListener("mousedown",function(e){if(!1!==n.enabled){if(e.preventDefault(),0===e.button){if(!0===n.noRotate)return;b=T.ROTATE,o.set(e.clientX,e.clientY)}else if(1===e.button){if(!0===n.noZoom)return;b=T.DOLLY,h.set(e.clientX,e.clientY)}else if(2===e.button){if(!0===n.noPan)return;b=T.PAN,s.set(e.clientX,e.clientY)}document.addEventListener("mousemove",R,!1),document.addEventListener("mouseup",y,!1)}},!1),this.domElement.addEventListener("mousewheel",L,!1),this.domElement.addEventListener("DOMMouseScroll",L,!1),this.domElement.addEventListener("keydown",function(e){if(!1!==n.enabled&&!0!==n.noKeys&&!0!==n.noPan)switch(e.keyCode){case n.keys.UP:n.pan(new THREE.Vector2(0,1));break;case n.keys.BOTTOM:n.pan(new THREE.Vector2(0,-1));break;case n.keys.LEFT:n.pan(new THREE.Vector2(1,0));break;case n.keys.RIGHT:n.pan(new THREE.Vector2(-1,0))}},!1),this.domElement.addEventListener("touchstart",function(e){if(!1!==n.enabled)switch(e.touches.length){case 1:if(!0===n.noRotate)return;b=T.TOUCH_ROTATE,o.set(e.touches[0].pageX,e.touches[0].pageY);break;case 2:if(!0===n.noZoom)return;b=T.TOUCH_DOLLY;var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY;h.set(0,Math.sqrt(t*t+a*a));break;case 3:if(!0===n.noPan)return;b=T.TOUCH_PAN,s.set(e.touches[0].pageX,e.touches[0].pageY);break;default:b=T.NONE}},!1),this.domElement.addEventListener("touchend",function(){!1!==n.enabled&&(b=T.NONE)},!1),this.domElement.addEventListener("touchmove",function(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!0===n.noRotate||b!==T.TOUCH_ROTATE)return;a.set(e.touches[0].pageX,e.touches[0].pageY),i.subVectors(a,o),n.rotateLeft(2*Math.PI*i.x/n.domElement.width*n.rotateSpeed),n.rotateUp(2*Math.PI*i.y/n.domElement.height*n.rotateSpeed),o.copy(a);break;case 2:if(!0===n.noZoom||b!==T.TOUCH_DOLLY)return;var t=e.touches[0].pageX-e.touches[1].pageX,u=e.touches[0].pageY-e.touches[1].pageY;l.set(0,Math.sqrt(t*t+u*u)),d.subVectors(l,h),d.y>0?n.dollyOut():n.dollyIn(),h.copy(l);break;case 3:if(!0===n.noPan||b!==T.TOUCH_PAN)return;c.set(e.touches[0].pageX,e.touches[0].pageY),r.subVectors(c,s),n.pan(r),s.copy(c);break;default:b=T.NONE}},!1)};
//# sourceMappingURL=index.7090b043.js.map
